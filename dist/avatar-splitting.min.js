!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e=e||self,t(e.avatar={}))}(this,function(e){"use strict";function t(e){var t=e.image,r=e.maskImage,n=!1;if(!t)return void console.error("Image cannot be empty!");if("string"!=typeof t)return void console.error("Image must be a string type!");if(""!=r&&void 0!==r){if("string"!=typeof r)return void console.error("maskImage must be a string type!");n=!0}else n=!1;var i=o({exportType:"base64",success:function(){},error:function(){}},e),h=new Image;h.crossOrigin="*",h.onload=function(){var e=document.createElement("canvas"),o=e.getContext("2d");e.width=h.width,e.height=(n?h.height:h.height/2)+" ",o.drawImage(h,0,""+(n?0:e.height),h.width,e.height,0,0,h.width,e.height);var r=o.getImageData(0,0,e.width,e.height),d=new Image;d.crossOrigin="*",d.onload=function(){var t=document.createElement("canvas"),o=t.getContext("2d");t.width=""+(n?h.width:d.width),t.height=""+(n?e.height:d.height/2),o.drawImage(d,0,0,d.width,""+(n?d.height:d.height/2),0,0,""+(n?h.width:d.width),""+(n?h.height:d.height/2));var g=o.getImageData(0,0,t.width,t.height),c=a(g,r,i);i.success(c)},d.src=t+"?"+(new Date).getTime(),d.onerror=function(){i.error({code:0,msg:"load image error"})}},h.src=(n?r:t)+"?"+(new Date).getTime(),h.onerror=function(){i.error({code:0,msg:"load image error"})}}function o(e,t){for(var a in t)t.hasOwnProperty(a)&&("object"==r(t[a])?("object"===r(e[a])&&null!==e[a]||(e[a]={}),o(e[a],t[a])):e[a]=t[a]);return e}function a(e,t,o){for(var a=document.createElement("canvas"),r=a.getContext("2d").createImageData(e),n=e.width*e.height*4,i=0;i<n;i+=4)r.data[i+0]=e.data[0+i],r.data[i+1]=e.data[1+i],r.data[i+2]=e.data[2+i],r.data[i+3]=t.data[i];var h=document.createElement("canvas"),d=h.getContext("2d");return h.width=r.width,h.height=r.height,d.putImageData(r,0,0,0,0,h.width,h.height),"canvas"==o.exportType?h:h.toDataURL("image/png")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.default=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=avatar-splitting.min.js.map
